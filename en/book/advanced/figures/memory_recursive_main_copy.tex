\tikzstyle{every picture}+=[remember picture]
\tikzstyle{mProjectPP}=[circle,fill=yellow!70, minimum size=20pt,inner sep=0pt]
\tikzstyle{label}=[rectangle, fill=white, minimum size=40pt, inner sep=0pt]
\tikzstyle{Box}=[rectangle, fill=white, minimum size=40pt, inner sep=0pt]
\tikzstyle{Box2}=[rectangle, fill=white, minimum size=20pt, inner sep=0pt]
\definecolor{applegreen}{rgb}{0.55, 0.71, 0.0}
\definecolor{antiquebrass}{rgb}{0.8, 0.58, 0.46}

\begin{tikzpicture}
  % ================ Axis ========================
  \draw (0, 0) -- coordinate (LEFT) (0, 0);
  \draw[->](0, 10) -- coordinate (YAx) (0, 0);
  \draw[->](7.2, 10) -- coordinate (YAx) (7.2, 0);
  \draw[Box] ($(LEFT.east)+(3.5, 10.7)$) -- ($(LEFT.east)+(3.5, 10.7)$) node[anchor=center]{\textbf{STACK}};

  \filldraw (0, 6.5) circle (1pt) node[align=center, left] {+0};
  \filldraw (0, 5.5) circle (1pt) node[align=center, left] {+8};
  \filldraw (0, 4.5) circle (1pt) node[align=center, left] {+16};
  \filldraw (0, 3.5) circle (1pt) node[align=center, left] {+24};
  \filldraw (0, 2.5) circle (1pt) node[align=center, left] {+32};

  % ================ Foo ========================
  \fill[black!10] ($(LEFT.east)+(0.2, 10)$) rectangle ($(LEFT.east)+(7, 8)$);
  \draw[Box] ($(LEFT.east)+(3.5, 7.6)$) -- ($(LEFT.east)+(3.5, 7.6)$) node[anchor=center]{\textbf{.}};
  \draw[Box] ($(LEFT.east)+(3.5, 7.4)$) -- ($(LEFT.east)+(3.5, 7.4)$) node[anchor=center]{\textbf{.}};
  \draw[Box] ($(LEFT.east)+(3.5, 7.2)$) -- ($(LEFT.east)+(3.5, 7.2)$) node[anchor=center]{\textbf{.}};

  \draw[line width=1pt] ($(LEFT.east)+(0.18, 6.9)$) rectangle ($(LEFT.east)+(7.02, 3.38)$);
  \fill[blue!10] ($(LEFT.east)+(0.2, 6.5)$) rectangle ($(LEFT.east)+(7, 3.4)$);
  \draw[Box] ($(LEFT.east)+(3.5, 6.7)$) -- ($(LEFT.east)+(3.5, 6.7)$) node[anchor=center]{\emph{main}};

  \draw[Box] ($(LEFT.east)+(0.5, 5.9)$) -- ($(LEFT.east)+(0.5, 5.9)$) node[anchor=center]{\textbf{\textit{a}}};
  \draw[line width=1pt] ($(LEFT.east)+(0.3, 6.4)$) rectangle ($(LEFT.east)+(6.8, 5.5)$);
  
  \draw[Box] ($(LEFT.east)+(3.5, 5.9)$) -- ($(LEFT.east)+(3.5, 5.9)$) node[anchor=center]{\emph{~=}~0xfa45b987};

  \draw[Box] ($(LEFT.east)+(0.5, 4.9)$) -- ($(LEFT.east)+(0.5, 4.9)$) node[anchor=center]{\textbf{\textit{b}}};
  \draw[line width=1pt] ($(LEFT.east)+(0.3, 5.4)$) rectangle ($(LEFT.east)+(6.8, 4.5)$);
  
  \draw[Box] ($(LEFT.east)+(3.5, 4.9)$) -- ($(LEFT.east)+(3.5, 4.9)$) node[anchor=center]{\emph{~=}~0xfa45c12e};

    \draw[Box] ($(LEFT.east)+(0.5, 3.9)$) -- ($(LEFT.east)+(0.5, 3.9)$) node[anchor=center]{\textbf{\textit{c}}};
  \draw[line width=1pt] ($(LEFT.east)+(0.3, 4.4)$) rectangle ($(LEFT.east)+(6.8, 3.5)$);
  
  \draw[Box] ($(LEFT.east)+(3.5, 3.9)$) -- ($(LEFT.east)+(3.5, 3.9)$) node[anchor=center]{\emph{~=}~0xfa45dd23};
  
  % ================ Heap ========================
  
  \draw[->](10, 10) -- coordinate (YAx) (10, 0);
  \draw[->](17.2, 10) -- coordinate (YAx) (17.2, 0);
  \filldraw (10, 7.5) circle (1pt) node[align=center, left] {0xfa45b987};

  \filldraw (10, 5.5) circle (1pt) node[align=center, left] {0xfa45c12e};

  \filldraw (10, 3.5) circle (1pt) node[align=center, left] {0xfa45dd23};

  \filldraw (10, 1.5) circle (1pt) node[align=center, left] {0xfa45fe72};

  % ================ Data ========================
  \draw[Box] ($(LEFT.east)+(13.5, 10.7)$) -- ($(LEFT.east)+(13.5, 10.7)$) node[anchor=center]{\textbf{HEAP}};
  \fill[black!10] ($(LEFT.east)+(10.2, 10)$) rectangle ($(LEFT.east)+(17, 8)$);
  \fill[applegreen!20] ($(LEFT.east)+(10.2, 7.9)$) rectangle ($(LEFT.east)+(17, 6.5)$);
  \draw[line width=1pt] ($(LEFT.east)+(10.4, 7.2)$) rectangle ($(LEFT.east)+(16.8, 7.2)$);

  \fill[applegreen!20] ($(LEFT.east)+(10.2, 5.9)$) rectangle ($(LEFT.east)+(17, 4.5)$);
  \draw[line width=1pt] ($(LEFT.east)+(10.4, 5.2)$) rectangle ($(LEFT.east)+(16.8, 5.2)$);

  \draw[Box] ($(LEFT.east)+(10.9, 7.6)$) -- ($(LEFT.east)+(10.9, 7.6)$) node[anchor=center]{\textbf{\textit{\_i}}};
  \draw[Box] ($(LEFT.east)+(13.5, 7.6)$) -- ($(LEFT.east)+(13.5, 7.6)$) node[anchor=center]{\emph{~=}~1};

  \draw[Box] ($(LEFT.east)+(10.9, 6.8)$) -- ($(LEFT.east)+(10.9, 6.8)$) node[anchor=center]{\textbf{\textit{\_a}}};
  \draw[Box] ($(LEFT.east)+(13.5, 6.8)$) -- ($(LEFT.east)+(13.5, 6.8)$) node[anchor=center]{\emph{~=}~0xfa45c12e};


  \draw[Box] ($(LEFT.east)+(10.9, 5.6)$) -- ($(LEFT.east)+(10.9, 5.6)$) node[anchor=center]{\textbf{\textit{\_i}}};
  \draw[Box] ($(LEFT.east)+(13.5, 5.6)$) -- ($(LEFT.east)+(13.5, 5.6)$) node[anchor=center]{\emph{~=}~2};

  \draw[Box] ($(LEFT.east)+(10.9, 4.8)$) -- ($(LEFT.east)+(10.9, 4.8)$) node[anchor=center]{\textbf{\textit{\_a}}};
  \draw[Box] ($(LEFT.east)+(13.5, 4.8)$) -- ($(LEFT.east)+(13.5, 4.8)$) node[anchor=center]{\emph{~=}~0xfa45b987};


  \fill[applegreen!20] ($(LEFT.east)+(10.2, 3.9)$) rectangle ($(LEFT.east)+(17, 2.5)$);
  \draw[line width=1pt] ($(LEFT.east)+(10.4, 3.2)$) rectangle ($(LEFT.east)+(16.8, 3.2)$);

  \fill[applegreen!20] ($(LEFT.east)+(10.2, 1.9)$) rectangle ($(LEFT.east)+(17, 0.5)$);
  \draw[line width=1pt] ($(LEFT.east)+(10.4, 1.2)$) rectangle ($(LEFT.east)+(16.8, 1.2)$);

  \draw[Box] ($(LEFT.east)+(10.9, 3.6)$) -- ($(LEFT.east)+(10.9, 3.6)$) node[anchor=center]{\textbf{\textit{\_i}}};
  \draw[Box] ($(LEFT.east)+(13.5, 3.6)$) -- ($(LEFT.east)+(13.5, 3.6)$) node[anchor=center]{\emph{~=}~1};

  \draw[Box] ($(LEFT.east)+(10.9, 2.8)$) -- ($(LEFT.east)+(10.9, 2.8)$) node[anchor=center]{\textbf{\textit{\_a}}};
  \draw[Box] ($(LEFT.east)+(13.5, 2.8)$) -- ($(LEFT.east)+(13.5, 2.8)$) node[anchor=center]{\emph{~=}~0xfa45fe72};


  \draw[Box] ($(LEFT.east)+(10.9, 1.6)$) -- ($(LEFT.east)+(10.9, 1.6)$) node[anchor=center]{\textbf{\textit{\_i}}};
  \draw[Box] ($(LEFT.east)+(13.5, 1.6)$) -- ($(LEFT.east)+(13.5, 1.6)$) node[anchor=center]{\emph{~=}~2};

  \draw[Box] ($(LEFT.east)+(10.9, 0.8)$) -- ($(LEFT.east)+(10.9, 0.8)$) node[anchor=center]{\textbf{\textit{\_a}}};
  \draw[Box] ($(LEFT.east)+(13.5, 0.8)$) -- ($(LEFT.east)+(13.5, 0.8)$) node[anchor=center]{\emph{~=}~0xfa45dd23};


  
  \draw[thick,->,shorten >=1pt] ($(LEFT.east)+(7.3, 6)$) to [out=0,in=230] node[below left, yshift=3mm] {} ($(LEFT.east)+(9.9, 7.4)$);

  \draw[thick,->,shorten >=1pt] ($(LEFT.east)+(7.3, 5)$) to [out=0,in=230] node[below left, yshift=3mm] {} ($(LEFT.east)+(9.9, 5.3)$);

  \draw[thick,->,shorten >=1pt] ($(LEFT.east)+(7.3, 4)$) to [out=0,in=150] node[below left, yshift=3mm] {} ($(LEFT.east)+(9.9, 3.7)$);

  \draw[thick,->,shorten >=1pt] ($(LEFT.east)+(17.3, 6.8)$) to [out=0,in=0] node[below left, yshift=3mm] {} ($(LEFT.east)+(17.2, 5.6)$);

  \draw[thick,->,shorten >=1pt] ($(LEFT.east)+(17.3, 4.8)$) to [out=0,in=0] node[below left, yshift=3mm] {} ($(LEFT.east)+(17.2, 7.6)$);
  
  \draw[thick,->,shorten >=1pt] ($(LEFT.east)+(17.3, 2.8)$) to [out=0,in=0] node[below left, yshift=3mm] {} ($(LEFT.east)+(17.2, 1.6)$);

  \draw[thick,->,shorten >=1pt] ($(LEFT.east)+(17.3, 0.8)$) to [out=0,in=0] node[below left, yshift=3mm] {} ($(LEFT.east)+(17.2, 3.6)$);

  
  
\end{tikzpicture}

% \end{figure}
