
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Data types Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/code.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-filename/block.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-spoiler/spoiler.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-nav-x/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="functions.html" />
    
    
    <link rel="prev" href="variables.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../hello-world/">
            
                <a href="../hello-world/">
            
                    
                    Hello World
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../hello-world/commentaires.html">
            
                <a href="../hello-world/commentaires.html">
            
                    
                    Comments
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Basic programming concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="variables.html">
            
                <a href="variables.html">
            
                    
                    Variable and Mutability
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.2" data-path="types.html">
            
                <a href="types.html">
            
                    
                    Data types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="control.html">
            
                <a href="control.html">
            
                    
                    Control flows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="operator.html">
            
                <a href="operator.html">
            
                    
                    Operator priority
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced/">
            
                <a href="../advanced/">
            
                    
                    Alias and References
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced/references.html">
            
                <a href="../advanced/references.html">
            
                    
                    References
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced/alias.html">
            
                <a href="../advanced/alias.html">
            
                    
                    Aliases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced/copies.html">
            
                <a href="../advanced/copies.html">
            
                    
                    Copy and Deep copy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced/best.html">
            
                <a href="../advanced/best.html">
            
                    
                    Best practice
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../modules/">
            
                <a href="../modules/">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../types/">
            
                <a href="../types/">
            
                    
                    User defined types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../types/struct.html">
            
                <a href="../types/struct.html">
            
                    
                    Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../types/enum.html">
            
                <a href="../types/enum.html">
            
                    
                    Enum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../types/aka.html">
            
                <a href="../types/aka.html">
            
                    
                    Aka
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../objects/">
            
                <a href="../objects/">
            
                    
                    Objects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../objects/class.html">
            
                <a href="../objects/class.html">
            
                    
                    Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../objects/mutability.html">
            
                <a href="../objects/mutability.html">
            
                    
                    Mutability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../objects/methods.html">
            
                <a href="../objects/methods.html">
            
                    
                    Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../objects/inheritance.html">
            
                <a href="../objects/inheritance.html">
            
                    
                    Inheritance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../objects/traits.html">
            
                <a href="../objects/traits.html">
            
                    
                    Traits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../objects/cast.html">
            
                <a href="../objects/cast.html">
            
                    
                    Cast, and dynamic typing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../functions/">
            
                <a href="../functions/">
            
                    
                    Function advanced
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../pattern/">
            
                <a href="../pattern/">
            
                    
                    Pattern matching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../errors/main.html">
            
                <a href="../errors/main.html">
            
                    
                    Error handling
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../errors/scope_guards.html">
            
                <a href="../errors/scope_guards.html">
            
                    
                    Scope guards
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../errors/catching.html">
            
                <a href="../errors/catching.html">
            
                    
                    Catching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../errors/option.html">
            
                <a href="../errors/option.html">
            
                    
                    Exception and option type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../errors/fptr_closure.html">
            
                <a href="../errors/fptr_closure.html">
            
                    
                    Unsafe function pointer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../templates/">
            
                <a href="../templates/">
            
                    
                    Templates
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../templates/special.html">
            
                <a href="../templates/special.html">
            
                    
                    Template types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../templates/cte.html">
            
                <a href="../templates/cte.html">
            
                    
                    Template values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../templates/values.html">
            
                <a href="../templates/values.html">
            
                    
                    Compilation time execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../objects/common_traits.html">
            
                <a href="../objects/common_traits.html">
            
                    
                    Common traits
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../traits/streamable.html">
            
                <a href="../traits/streamable.html">
            
                    
                    Streamable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../traits/copiable.html">
            
                <a href="../traits/copiable.html">
            
                    
                    Copiable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../traits/disposable.html">
            
                <a href="../traits/disposable.html">
            
                    
                    With guard and Disposable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../traits/hashable.html">
            
                <a href="../traits/hashable.html">
            
                    
                    Hashable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../traits/serialize.html">
            
                <a href="../traits/serialize.html">
            
                    
                    Packable and Serializable
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../templates/operators.html">
            
                <a href="../templates/operators.html">
            
                    
                    Operator overloading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../version/README.md">
            
                <span>
            
                    
                    Version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    Documentation
            
                </span>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Data types</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-minus-circle"></i><ul><li><span class="title-icon "></span><a href="#primitives-types"><b>1. </b>Primitives types</a></li><ul><li><span class="title-icon "></span><a href="#typeof-and-sizeof"><b>1.1. </b>Typeof and Sizeof</a></li><li><span class="title-icon "></span><a href="#scalar-types"><b>1.2. </b>Scalar types</a></li><ul><li><span class="title-icon "></span><a href="#integer-types"><b>1.2.1. </b>Integer types</a></li><li><span class="title-icon "></span><a href="#floating-point-types"><b>1.2.2. </b>Floating-point types</a></li><li><span class="title-icon "></span><a href="#boolean-type"><b>1.2.3. </b>Boolean type</a></li><li><span class="title-icon "></span><a href="#character-type"><b>1.2.4. </b>Character type</a></li><li><span class="title-icon "></span><a href="#pointers"><b>1.2.5. </b>Pointers</a></li></ul><li><span class="title-icon "></span><a href="#compound-types"><b>1.3. </b>Compound types</a></li><ul><li><span class="title-icon "></span><a href="#tuple"><b>1.3.1. </b>Tuple</a></li><li><span class="title-icon "></span><a href="#ranges"><b>1.3.2. </b>Ranges</a></li><li><span class="title-icon "></span><a href="#arrays"><b>1.3.3. </b>Arrays</a></li><li><span class="title-icon "></span><a href="#static-arrays"><b>1.3.4. </b>Static Arrays</a></li><li><span class="title-icon "></span><a href="#option"><b>1.3.5. </b>Option</a></li></ul><li><span class="title-icon "></span><a href="#cast"><b>1.4. </b>Cast</a></li></ul></ul></div><a href="#primitives-types" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="primitives-types"><a name="primitives-types" class="anchor-navigation-ex-anchor" href="#primitives-types"><i class="fa fa-link" aria-hidden="true"></i></a>1. Primitives types</h1>
<p>In <em>Ymir</em> language, each value has a certain type of data, which
indicates how the program must behave and how it should operate with
the value. <em>Ymir</em> is a statically typed language, which means that
all types of all values must be known at compile time. Usually, the
compiler is able to infer the data types from the values, and it is
not necessary to specify them when declaring a variable. But
sometimes, when it comes to the mutability of a variable or the
inheritance of a class for example, the inference can be wrong and
the behavior not adapted to what you might want to do.</p>
<p>Therefore, the type may be added when declaring a variable, as in the
following code.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">let</span> <span class="token other-keyword">mut</span> x <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token other-keyword">mut</span> <span class="token basic-types">i32</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token other-keyword">mut</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>To understand the difference between the type of <strong><code>x</code></strong> and the type
of <strong><code>y</code></strong>, we invite you to read the chapter
<a href="https://gnu-ymir.github.io/Documentations/en/advanced/" target="_blank">Aliases and References</a>.</p>
<p>Each type has type attributes. Theses attributes are accessed using
the double colon operator <strong><code>::</code></strong> on a type expression.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token basic-types">i32</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">init</span><span class="token punctuation">;</span>  <span class="token comment">// i32 (0)</span>
</code></pre>
<p><br></p>
<p>All primitive types have common attributes that are listed in the
table below. Attributes can be surrounded by <code>_</code>, to avoid some
ambiguity for some types (<em>cf.</em>
<a href="https://gnu-ymir.github.io/Documentations/en/types/enum.html" target="_blank">Enumeration</a>). For
example, the attribute <code>typeid</code> is equivalent to <code>__typeid__</code>, or
<code>_typeid</code>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>init</code></td>
<td>The initial value of the struct, where each field are set to init if they don&apos;t have default value</td>
</tr>
<tr>
<td><code>typeid</code></td>
<td>The name of the type stored in a value of type <strong><code>[c32]</code></strong></td>
</tr>
<tr>
<td><code>typeinfo</code></td>
<td>A structure of type TypeInfo, containing information about the type</td>
</tr>
</tbody>
</table>
<p>All the information about TypeInfo are presented in chapter <a href="https://gnu-ymir.github.io/Documentations/en/types_advanced/" target="_blank">Dynamic
types</a>.</p>
<h2 id="typeof-and-sizeof"><a name="typeof-and-sizeof" class="anchor-navigation-ex-anchor" href="#typeof-and-sizeof"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Typeof and Sizeof</h2>
<p>1) The keyword <strong><code>typeof</code></strong> retreives the type of a value at
compilation time. This type can be used in any context, to retreive
type information. For example, in a variable declaration, a function
parameter, or return type, structure fields, etc..</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token basic-types">i32</span> <span class="token punctuation">{</span>
    <span class="token number">42</span> 
<span class="token punctuation">}</span>

<span class="token keyword">def</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token punctuation">:</span> <span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">typeid</span><span class="token punctuation">,</span> <span class="token string">&quot; (&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Results: </p>
<pre class="language-"><code>i32 (42)
</code></pre><p><br></p>
<p>2) The keyword <strong><code>sizeof</code></strong> retreive the size of a type in bytes at
compilation time. It is applicable only on types, not on value, but
the type of a value can be retreive using the <strong><code>typeof</code></strong>
keyword. This size is given in a value of type <strong><code>usize</code></strong> (this
scalar type is presented below).</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token punctuation">:</span> <span class="token type">usize</span> <span class="token operator">=</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token basic-types">i32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">println</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Results: (on a x86-64 arch)</p>
<pre class="language-"><code>4 8
</code></pre><h2 id="scalar-types"><a name="scalar-types" class="anchor-navigation-ex-anchor" href="#scalar-types"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Scalar types</h2>
<p>Scalar types represent all types containing a single value. <em>Ymir</em>
has five primitive scalar types: integers, floating point, characters,
booleans, and pointers. They can have different sizes for different
purposes.</p>
<h3 id="integer-types"><a name="integer-types" class="anchor-navigation-ex-anchor" href="#integer-types"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. Integer types</h3>
<p>An integer is a number without decimal points. There are different
types of integers in <em>Ymir</em>, the signed one and the unsigned
one. Signed and unsigned refers to the possibility for a number to be
negative. Signed integer types begin with the letter <strong><code>i</code></strong>, while
unsigned integers begin with the letter <strong><code>u</code></strong>. The following table
lists all the different types of integers, and sorts them by memory
size.</p>
<table>
<thead>
<tr>
<th>size</th>
<th>signed</th>
<th>unsigned</th>
</tr>
</thead>
<tbody>
<tr>
<td>8 bits</td>
<td>i8</td>
<td>u8</td>
</tr>
<tr>
<td>16 bits</td>
<td>i16</td>
<td>u16</td>
</tr>
<tr>
<td>32 bits</td>
<td>i32</td>
<td>u32</td>
</tr>
<tr>
<td>64 bits</td>
<td>i64</td>
<td>u64</td>
</tr>
<tr>
<td>arch</td>
<td>isize</td>
<td>usize</td>
</tr>
</tbody>
</table>
<p>The <code>usize</code> and <code>isize</code> types are architecture dependent, and have the
size of a pointer, depending on the architecture targeted.</p>
<p>Each type of signed integer can store values ranging from <em>-(2
<sup>n - 1</sup>)</em> to <em>2 <sup>n - 1</sup> - 1</em>, where <em>n</em> is the size
of the integer in memory. Unsigned types, on the other hand, can store
numbers ranging from <em>0</em> to <em>2 <sup>n</sup> - 1</em>. For example, type
<strong><code>i8</code></strong>, can store values from <em>-128</em> to <em>127</em>, and type <strong><code>u8</code></strong> can
store values from <em>0</em> to <em>255</em>.</p>
<p>You can write an integer in two forms, decimal <code>9_234</code> and hexadecimal
<code>0x897A</code>. The <code>_</code> token, is simply ignored in a literal integer.</p>
<p>To make sure a literal value has the right type, a prefix can be added
at the end of it. For example, to get a <strong><code>i8</code></strong> with the value <em>7</em>,
the right literal is written <code>7i8</code>. By default, if no prefix is added
at the end of the literal, the language defines its type as a
<strong><code>i32</code></strong>.</p>
<p>As indicated above, each type has attributes, the following table
lists the integer-specific attributes:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>max</code></td>
<td>The maximal value</td>
</tr>
<tr>
<td><code>min</code></td>
<td>The minimal value</td>
</tr>
</tbody>
</table>
<p>An overflow check is performed on literals at compilation time, and an
error is returned by the compiler if the type of integer choosed to
encode the literal is not large enough to contain the value. For
example:</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token punctuation">:</span> <span class="token basic-types">i8</span> <span class="token operator">=</span> <span class="token number">934i8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Because a i8 can only store value ranging from <code>-127</code> to <code>128</code>, the
value <code>934</code> would not fit. For that reason the compiler returns the
following error.</p>
<pre class="language-"><code class="lang-error"><span class="token path">Error</span> : overflow capacity for type i8 = 943
 <span class="token comment">--&gt; main.yr:(12,18)</span>
    &#x2503; 
12  &#x2503;     let x : i8 = 943i8;
    &#x2503;                  ^^^

ymir1: <span class="token path">fatal error</span>: 
compilation terminated.
</code></pre>
<p><br></p>
<p><strong>WARNING</strong> However, if the value cannot be known at compile time, the
overflow is not checked and can lead to strange behavior. For example,
if you try to add 1 to a variable of type <strong><code>i16</code></strong> that contains the
value <code>32767</code>, the result will be <code>-32768</code>. <em>Contribution:</em> Provide a
dynamic way to verify the overflow of arithmetic operation (at least
in debug mode).</p>
<h3 id="floating-point-types"><a name="floating-point-types" class="anchor-navigation-ex-anchor" href="#floating-point-types"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. Floating-point types</h3>
<p>Floating-point types, refer to numbers with a decimal
part. <em>Ymir</em> provides two types of floating point numbers, <strong><code>f32</code></strong>
and <strong><code>f64</code></strong>, which have a size of 32 bits and 64 bits respectively.</p>
<p>You can add the prefix <strong><code>f</code></strong>, at the end of a literal floating point
to specify that you want a <strong><code>f32</code></strong>, instead of a <strong><code>f64</code></strong> as it is
by default.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span> 
    <span class="token keyword">let</span> y <span class="token punctuation">:</span> <span class="token type">f32</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">.</span>0f<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The following table lists the attributes specific to floating point
types.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>init</code></td>
<td>The initial value - <code>nan</code></td>
</tr>
<tr>
<td><code>max</code></td>
<td>The maximal finite value that this type can encode</td>
</tr>
<tr>
<td><code>min</code></td>
<td>The minimal finite value that this type can encode</td>
</tr>
<tr>
<td><code>nan</code></td>
<td>The value <strong>Not a Number</strong></td>
</tr>
<tr>
<td><code>dig</code></td>
<td>The number of decimal digit of precision</td>
</tr>
<tr>
<td><code>inf</code></td>
<td>The value positive infinity</td>
</tr>
<tr>
<td><code>epsilon</code></td>
<td>The smallest increment to the value <code>1</code></td>
</tr>
<tr>
<td><code>mant_dig</code></td>
<td>Number of bits in the  <strong>mantissa</strong></td>
</tr>
<tr>
<td><code>max_10_exp</code></td>
<td>maximum int value such that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mi mathvariant="normal">_</mi><mn>1</mn><mn>0</mn><mi mathvariant="normal">_</mi><mi>e</mi><mi>x</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">10^{max\_10\_exp}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord"><span class="mord mathrm">0</span><span class="msupsub"><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord scriptstyle uncramped mtight"><span class="mord mathit mtight">m</span><span class="mord mathit mtight">a</span><span class="mord mathit mtight">x</span><span class="mord mathrm mtight" style="margin-right:0.02778em;">_</span><span class="mord mathrm mtight">1</span><span class="mord mathrm mtight">0</span><span class="mord mathrm mtight" style="margin-right:0.02778em;">_</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight">x</span><span class="mord mathit mtight">p</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span></span></span></span> is representable</td>
</tr>
<tr>
<td><code>max_exp</code></td>
<td>maximum int value such that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>x</mi><mi>p</mi><mo>&#x2212;</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{max\_exp-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathrm">2</span><span class="msupsub"><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord scriptstyle uncramped mtight"><span class="mord mathit mtight">m</span><span class="mord mathit mtight">a</span><span class="mord mathit mtight">x</span><span class="mord mathrm mtight" style="margin-right:0.02778em;">_</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight">x</span><span class="mord mathit mtight">p</span><span class="mbin mtight">&#x2212;</span><span class="mord mathrm mtight">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span></span></span></span> is representable</td>
</tr>
<tr>
<td><code>min_10_exp</code></td>
<td>minimum int value such that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mi mathvariant="normal">_</mi><mn>1</mn><mn>0</mn><mi mathvariant="normal">_</mi><mi>e</mi><mi>x</mi><mi>p</mi></mrow></msup></mrow><annotation encoding="application/x-tex">10^{min\_10\_exp}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.824664em;"></span><span class="strut bottom" style="height:0.824664em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord"><span class="mord mathrm">0</span><span class="msupsub"><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord scriptstyle uncramped mtight"><span class="mord mathit mtight">m</span><span class="mord mathit mtight">i</span><span class="mord mathit mtight">n</span><span class="mord mathrm mtight" style="margin-right:0.02778em;">_</span><span class="mord mathrm mtight">1</span><span class="mord mathrm mtight">0</span><span class="mord mathrm mtight" style="margin-right:0.02778em;">_</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight">x</span><span class="mord mathit mtight">p</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span></span></span></span> is representable as a normalized value</td>
</tr>
<tr>
<td><code>min_exp</code></td>
<td>minimum int value such that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mi mathvariant="normal">_</mi><mi>e</mi><mi>x</mi><mi>p</mi><mo>&#x2212;</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{min\_exp-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.824664em;"></span><span class="strut bottom" style="height:0.824664em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathrm">2</span><span class="msupsub"><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span><span class="reset-textstyle scriptstyle uncramped mtight"><span class="mord scriptstyle uncramped mtight"><span class="mord mathit mtight">m</span><span class="mord mathit mtight">i</span><span class="mord mathit mtight">n</span><span class="mord mathrm mtight" style="margin-right:0.02778em;">_</span><span class="mord mathit mtight">e</span><span class="mord mathit mtight">x</span><span class="mord mathit mtight">p</span><span class="mbin mtight">&#x2212;</span><span class="mord mathrm mtight">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">&#x200B;</span></span>&#x200B;</span></span></span></span></span></span></span> is representable as a normalized value</td>
</tr>
</tbody>
</table>
<h3 id="boolean-type"><a name="boolean-type" class="anchor-navigation-ex-anchor" href="#boolean-type"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.3. Boolean type</h3>
<p>A boolean is a very simple type that can take two values, either <code>true</code> or <code>false</code>.  For example:</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token other-keyword">true</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> f <span class="token punctuation">:</span> <span class="token basic-types">bool</span> <span class="token operator">=</span> <span class="token other-keyword">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>The following table lists the attributes specific to boolean type.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>init</code></td>
<td>The initial value - <code>false</code></td>
</tr>
</tbody>
</table>
<h3 id="character-type"><a name="character-type" class="anchor-navigation-ex-anchor" href="#character-type"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.4. Character type</h3>
<p>The <strong><code>c8</code></strong> and <strong><code>c32</code></strong> are the types used to encode the
characters.  As with literal integers, it is necessary to add a prefix
to define the type of a literal. The prefix used to specify the type
of a literal character is <strong><code>c8</code></strong>, if nothing is specified, the
character type will be <strong><code>c32</code></strong>.</p>
<p>The <strong><code>c32</code></strong> character has a size of four bytes and can store any
unicode value.  Literal characters can have two forms, and are always
surrounded by the token <strong><code>&apos;</code></strong>. The first form is the character
itself, and the second is the unicode value in the integer
form <code>\u{12}</code> or <code>\u{0xB}</code>.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">&apos;&#x263A;&apos;</span><span class="token punctuation">;</span>    
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token string">&apos;\u{0x263A}&apos;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If the loaded literal is too long to be stored in the character type,
an error will be returned by the compiler. For example :</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">&apos;&#x263A;&apos;</span><span class="token basic-types">c8</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre>
<p>The error will be the following. This error means that you will need
at least 3 <strong><code>c8</code></strong> to store the value, so it doesn&apos;t fit into one
<strong><code>c8</code></strong> :</p>
<pre class="language-"><code class="lang-error"><span class="token path">Error</span> : malformed literal, number of c8 is 3
 <span class="token comment">--&gt; main.yr:(2,10)</span>
    | 
 2  |     let x = &apos;&#x263A;&apos;c8; 
    |             ^

ymir1: <span class="token path">fatal error</span>: 
compilation terminated.
</code></pre>
<p><br></p>
<p>The following table lists the attributes specific to character types.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>init</code></td>
<td>The initial value - <code>\u{0}</code></td>
</tr>
</tbody>
</table>
<h3 id="pointers"><a name="pointers" class="anchor-navigation-ex-anchor" href="#pointers"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.5. Pointers</h3>
<p>Pointer are values that stores an address of memory. They can be used
to store the location of a data in memory. In <strong><code>Ymir</code></strong>, pointers are
considered low level programming and are mainly used in the std, and
runtime to interface with machine level semantics. You can perfectly
write any program without needing pointers, and for that reason we
recomand to not use them.</p>
<p>Pointers are defined using the <code>&amp;</code> keyword on types, or on
values. They are aliasable types, as they borrow memory (cf <a href="https://gnu-ymir.github.io/Documentations/en/advanced/" target="_blank">Aliasable
and
References</a>).</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">throws</span> <span class="token operator">&amp;</span><span class="token type">SegFault</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span><span class="token type">AssertError</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token other-keyword">mut</span> i <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> p <span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token basic-types">i32</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token type">i</span><span class="token punctuation">;</span> <span class="token comment">// creation of a pointer on i</span>
    i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">==</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dereference the pointer and access the value</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>Pointers are unsafe, and dereferencing a pointer can result in undefined
behavior depending on where it points. It can also sometimes raise a
segmentation fault. In <strong><code>Ymir</code></strong>, segmentation fault are recovered,
and an exception is thrown. Error handling is presented in chaper
<a href="https://gnu-ymir.github.io/Documentations/en/errors/main.html" target="_blank">Error
Handling</a>.</p>
<p><strong>WARNING</strong>, Note that the segmentation fault may not occur even if
  the pointer is not properly set. The easiest way to avoid undefined
  behavior is to not use pointers and use <code>std</code> verified functions, or
  other semantically verified elements (cf <a href="https://gnu-ymir.github.io/Documentations/en/advanced/" target="_blank">Aliasable and
  References</a>).</p>
<p><br></p>
<p>The following table lists the attributes specific to pointer types.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inner</code></td>
<td>The type of the inner value - for example : <code>i32</code> for <code>&amp;i32</code></td>
</tr>
</tbody>
</table>
<h2 id="compound-types"><a name="compound-types" class="anchor-navigation-ex-anchor" href="#compound-types"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Compound types</h2>
<p>Unlike scalar types, the compound contains multiple values.  There are
three types of compounds: the tuple, the range and the arrays.</p>
<h3 id="tuple"><a name="tuple" class="anchor-navigation-ex-anchor" href="#tuple"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Tuple</h3>
<p>A tuple is a set of values of different types. Tuples have a fixed
arity. The arity of a tuple is defined at compilation time, and
represent the number of values contained inside the tuple. Each
element of a tuple has a type, and a given order. Tuples are built
between parentheses, by a comma-separated list of values. A tuple of
one value can be defined, by putting a coma after the first
value. This way the compiler can understand the desire of creating a
tuple, and do not confuse it with a normal expression between
parentheses.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> t <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token basic-types">i32</span><span class="token punctuation">,</span> <span class="token basic-types">c32</span><span class="token punctuation">,</span> f64<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&apos;r&apos;</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// three value tuple</span>
    <span class="token keyword">let</span> t2 <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token basic-types">i32</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// single value tuple</span>
    <span class="token keyword">let</span> t3 <span class="token punctuation">:</span> <span class="token basic-types">i32</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// single value of type i32</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>The tuple <code>t</code>, is a single element, and can be used as a function
parameter or as a return value of a function. It can also be
destructured, to retrieve the values of its component elements. There
are three ways of tuple destructuring.</p>
<p>1) the dot operator <strong><code>.</code></strong>, followed by an integer value, whose value
is known at compilation time. This value can be computed by a complex
expression, as long as the compiler is able to retreive the value at
compilation time (<em>cf.</em> <a href="https://gnu-ymir.github.io/Documentations/en/templates/cte.html" target="_blank">Compilation time
execution</a>).</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&apos;r&apos;</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> z <span class="token punctuation">:</span> <span class="token basic-types">i32</span> <span class="token operator">=</span> t<span class="token punctuation">.</span>_0<span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token punctuation">:</span> <span class="token basic-types">c32</span> <span class="token operator">=</span> t<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token function">println</span> <span class="token punctuation">(</span>t<span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>2) the tuple destructuring syntax. This syntax, close to variable
declaration, creates new variables that contains parts of the tuple
that is destructured. In the following example, one can note that the
tuple destructuring syntax allows to extract only some of the tuple
values. The type of the variable <strong><code>e</code></strong> is the tuple <strong><code>(c32,
f64)</code></strong>, and its values are <strong><code>(&apos;r&apos;, 3.14)</code></strong>, when the variable
<strong><code>f</code></strong> contains the value <strong><code>1</code></strong> of type <strong><code>i32</code></strong>.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&apos;r&apos;</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span> <span class="token operator">=</span> t<span class="token punctuation">;</span>

    <span class="token keyword">let</span> <span class="token punctuation">(</span>f<span class="token punctuation">,</span> e<span class="token punctuation">...</span><span class="token punctuation">)</span> <span class="token operator">=</span> t<span class="token punctuation">;</span>
    <span class="token function">println</span> <span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> e<span class="token number">.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>3) the keyword <strong><code>expand</code></strong>. this keyword is a compile-time rewrite,
that expands the values of a tuple into a list of values. This list is
then used to create other tuples, call functions, etc. The following
example shows the use of the keyword <strong><code>expand</code></strong> to call a function
taking two parameters, with the value of a tuple containing two
values. </p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token keyword">def</span> <span class="token function">add</span> <span class="token punctuation">(</span>a <span class="token punctuation">:</span> <span class="token basic-types">i32</span><span class="token punctuation">,</span> b <span class="token punctuation">:</span> <span class="token basic-types">i32</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token basic-types">i32</span> 
    a <span class="token operator">+</span> b


<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token function">add</span> <span class="token punctuation">(</span>expand x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

    <span class="token comment">// Will be rewritten into :     </span>
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token function">add</span> <span class="token punctuation">(</span>x<span class="token number">.0</span><span class="token punctuation">,</span> x<span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// rewritter into : (1, x.0, x.1)</span>
    <span class="token keyword">let</span> j <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token basic-types">i32</span><span class="token punctuation">,</span> <span class="token basic-types">i32</span><span class="token punctuation">,</span> <span class="token basic-types">i32</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> expand x<span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>There is two other ways to destructurate a tuple. These ways are
presented in forthcoming chapters. The following table lists the
attributes specific to tuple types.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>arity</code></td>
<td>The number of elements contained in the tuple (in a <strong><code>u32</code></strong>)</td>
</tr>
<tr>
<td><code>init</code></td>
<td>a tuple, where each element values are set to <code>init</code></td>
</tr>
</tbody>
</table>
<h3 id="ranges"><a name="ranges" class="anchor-navigation-ex-anchor" href="#ranges"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Ranges</h3>
<p>Ranges are types that contain two values defining a range. A range is
named <strong><code>r!T</code></strong>, where <strong><code>T</code></strong> is the type of the range limits. They
are created by the token <strong><code>..</code></strong> and <strong><code>...</code></strong>. A range consists of
four values, which are stored in the fields shown in the following
table. These fields can be accessed using the dot operator <strong><code>.</code></strong>. </p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>fst</td>
<td>T</td>
<td>the first bound</td>
</tr>
<tr>
<td>scd</td>
<td>T</td>
<td>the second bound</td>
</tr>
<tr>
<td>step</td>
<td>mut T</td>
<td>the step of the interval</td>
</tr>
<tr>
<td>contain</td>
<td>bool</td>
<td>Is the scd bound contained in the interval ?</td>
</tr>
</tbody>
</table>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> range <span class="token punctuation">:</span> <span class="token function">r!</span><span class="token punctuation">(</span><span class="token basic-types">i32</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">..</span> <span class="token number">8</span><span class="token punctuation">;</span>     
    <span class="token keyword">let</span> c_range <span class="token punctuation">:</span> <span class="token function">r!</span><span class="token punctuation">(</span><span class="token basic-types">i32</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">...</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The <code>step_by</code> function takes a range as a parameter and returns a
new range, with a modified step.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token punctuation">..</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step_by</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre>
<p>The <a href="https://gnu-ymir.github.io/Documentations/en/primitives/control.html" target="_blank">Control
flows</a>
section shows a use of these types.</p>
<h3 id="arrays"><a name="arrays" class="anchor-navigation-ex-anchor" href="#arrays"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.3. Arrays</h3>
<p>An array is a collection of values of the same type, stored in
contiguous memory.  Unlike tuples, the size of an array is unknown at
compile time, and in <em>Ymir</em>, they are similar to slices, and will be
refered as such. Slices are defined with a syntax close to the one of
tuple, but with brackets instead of parentheses, for example <strong><code>[1, 2, 3]</code></strong>. 
The type of a slice is also defined using the brackets, for example <strong><code>[i32]</code></strong>, meaning a slice containing <strong><code>i32</code></strong> values.</p>
<p>String literals, enclosed between double quotes are a special case of
slice literals. There is no string type in Ymir, but only slices
type. Because of this, string values are typed <strong><code>[c32]</code></strong> or
<strong><code>[c8]</code></strong> depending on the type of values contained in the
slice. String literals can be prefixed with the keyword <strong><code>s8</code></strong> or
<strong><code>s32</code></strong> to define the encoding system used. By default, when no
prefix is specified a string literal have a type <strong><code>[c32]</code></strong>. </p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// a [i32] slice</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token string">&quot;Hello World !!&quot;</span><span class="token punctuation">;</span> <span class="token comment">// a [c32] slice</span>
    <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token string">&quot;Hello World !!&quot;</span>s8<span class="token punctuation">;</span> <span class="token comment">// a [c8] slice</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p><strong>Warning</strong>: The length of a [c8] literals can seem incorrect
due to the encoding system. For example, the slice <code>&quot;&#x263A;&quot;s8</code> will have a
length of <strong><code>3</code></strong>. To summarize, <strong><code>[c8]</code></strong> slices are utf-8 encoded
string literals, when <strong><code>[c32]</code></strong> are encoded in utf-32.</p>
<p>A slice is a two-word object, the first word is the length of the
slice, and the second is a pointer to the data stored in the slice. A
slice is an aliasable type, its mutability is a bit more complicated
than the mutability of scalar types, because it borrows memory which
is not automatically copied when an assignment is made. This section
will not discuss the mutability of internal types or aliasable
types. This is discussed in the chapter <a href="https://gnu-ymir.github.io/Documentations/en/advanced/" target="_blank">Aliases and
References</a>.</p>
<p>The field <strong><code>len</code></strong> records the length of the slice and can be
retrieved with the dot operator <strong><code>.</code></strong>.  The length of the slice is
stored in a <strong><code>usize</code></strong> field.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;The value of x : &quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;The length of x : &quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Similarly, the <strong><code>ptr</code></strong> field, gives access to the pointer of the
slice and its types depend on the inner type of the slice, and is
never mutable. Pointer type are absolutely not important for a
<em>Ymir</em> program, and we suspect that you will never have use of
them. They are defined to allow low level programming paradigms, and
are used in the std and runtime. </p>
<p>To access the elements of an array, the <strong><code>[]</code></strong> operator is used. It
takes either an integer value or a range value as parameter. If a
range value is given, a second slice that borrows a section of the
first is created. For now, the step of the range does not affect the
borrowing of the array. A contribution can be made here. On the other
hand if an integer value <strong><code>i</code></strong> is given as parameter, the value at
the index <strong><code>i</code></strong> is returned.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token keyword">throws</span> <span class="token operator">&amp;</span><span class="token type">OutOfArray</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> x <span class="token punctuation">[</span><span class="token number">0</span> <span class="token punctuation">..</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> z <span class="token operator">=</span> x <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">println</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>The length of a slice is unknown at compilation time, and access can
be made with dynamic integers whose values are also unknown at
compilation time. For that reason, it may happen that the parameters
used go beyond the slice length. With this in mind, slice access is
considered unsafe, and can throw an exception of type
<strong><code>&amp;OutOfArray</code></strong>. The exception system, and error handling is
detailed in the chapter <a href="https://gnu-ymir.github.io/Documentations/en/errors/main.html" target="_blank">Error
Handling</a>.</p>
<p>Slices can be concatenated, to form another slice. The concatenation
is made using the operator tilde on two operands. To work properly and
be accepted by the language, the two slice used as operands must share
the same type (but not necessarily mutability level, the mutability of
the operand with the lowest mutability level is choosed for the result
of the operation <em>cf.</em> <a href="https://gnu-ymir.github.io/Documentations/en/advanced/" target="_blank">Aliases and
References</a>).</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token keyword">def</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token punctuation">[</span><span class="token basic-types">i32</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> ~ <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The tilde token was chosen to avoid some ambiguity. In some languages
such as Java, the concatenation is made using the token <strong><code>+</code></strong> that
sometimes creates some ambiguity when concatenating strings, and other
elements such as integers. For example, the expression <code>&quot;foo&quot; + 1 + 2</code>, is ambiguous. 
One can note however, that since concatenation only works on slices of
the same type, the following expression <code>&quot;foo&quot; ~ 2</code>, is invalid as
&quot;foo&quot; is of type <strong><code>[c32]</code></strong>, and <strong><code>2</code></strong> of type <strong><code>i32</code></strong>.</p>
<p>Another syntax can be used to create slices. This syntax called <em>slice
allocation</em>, allocates a slice on the heap and set the same value to
every element of the slice.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>
<span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">random</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> a <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token basic-types">i32</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token punctuation">;</span> <span class="token other-keyword">new</span> <span class="token number">100u64</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// this avoids the write of 100 zeros</span>
                                      <span class="token comment">// but the result is the same</span>

    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span> <span class="token punctuation">;</span> <span class="token other-keyword">new</span> <span class="token function">uniform</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
    <span class="token comment">//                ^^^^^^^ generates a random value between 10 and 100</span>
    <span class="token function">println</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>The following table lists the attributes specific to slice types.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inner</code></td>
<td>the inner type</td>
</tr>
<tr>
<td><code>init</code></td>
<td>an empty slice (with <code>len == 0us</code>)</td>
</tr>
</tbody>
</table>
<h3 id="static-arrays"><a name="static-arrays" class="anchor-navigation-ex-anchor" href="#static-arrays"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.4. Static Arrays</h3>
<p>Unlike the slice, static arrays are stored in the stack rather than on
the heap. To be possible, their size must be known at compilation
time. The syntax used to create a static array is close to the syntax
of a <em>slice allocation</em>, but the keyword <strong><code>new</code></strong> omitted.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token comment">/**</span>
<span class="token comment">  * Takes an array of size twelve as parameter</span>
<span class="token comment">  */</span>
<span class="token keyword">def</span> <span class="token function">foo</span> <span class="token punctuation">(</span>a <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token basic-types">i32</span> <span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">throws</span> <span class="token operator">&amp;</span><span class="token type">OutOfArray</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token other-keyword">mut</span> a <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token other-keyword">mut</span> <span class="token basic-types">i32</span> <span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span> <span class="token punctuation">..</span> <span class="token number">12</span>
        a <span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i

    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token function">foo</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">foo</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>A static array can be transformed into a slice using the <code>alias</code>,
<code>copy</code> and <code>dcopy</code> keywords. The chapter <a href="https://gnu-ymir.github.io/Documentations/en/advanced/" target="_blank">Aliases and
references</a>
explains the difference between these keywords.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token other-keyword">alias</span> x<span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">copy</span> x<span class="token punctuation">;</span>

    <span class="token function">println</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>One can argue that slice literals should be of static array type. We
made the choice to create slices from array literals rather than
static arrays to avoid verbosity, as we claim that slices are way more
commonly used than arrays with a static size. We are for the moment
considering the possibility to prefix slice literals, to define static
array literals, but the question is not yet decided.</p>
<p><br></p>
<p>The following table lists the attributes specific to array types.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inner</code></td>
<td>the inner type</td>
</tr>
<tr>
<td><code>len</code></td>
<td>the len of the array (<code>usize</code> value)</td>
</tr>
<tr>
<td><code>init</code></td>
<td>an array where each element is set to the <code>init</code> value of the inner type</td>
</tr>
</tbody>
</table>
<h3 id="option"><a name="option" class="anchor-navigation-ex-anchor" href="#option"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.5. Option</h3>
<p>The option typed values are values that may be set or not. They are
defined using the token <strong><code>?</code></strong> on types or values. Further
information on option type are given in the chapter <a href="https://gnu-ymir.github.io/Documentations/en/errors/main.html" target="_blank">Error
handling</a>,
as they are completely related to error management system. </p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> i <span class="token punctuation">:</span> <span class="token basic-types">i32</span>? <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>?<span class="token punctuation">;</span> <span class="token comment">// an option type containing the value 12</span>
    <span class="token keyword">let</span> j <span class="token punctuation">:</span> <span class="token basic-types">i32</span>? <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token basic-types">i32</span>?<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">err</span><span class="token punctuation">;</span> <span class="token comment">// an option value containing no value</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The value of an option type can be retreived using functions in the
std, or pattern matching. In this chapter, we only focus on the
<strong><code>unwrap</code></strong> function, pattern matching being left for a future
chapter (<em>cf.</em> <a href="https://gnu-ymir.github.io/Documentations/en/pattern" target="_blank">Pattern
matchin</a>).  The
function <strong><code>unwrap</code></strong> from the module <strong><code>std::conv</code></strong>, get the value
contained inside an option type. If no value is contained inside the
option, the function throws an error of type <strong><code>CastFailure</code></strong>.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">conv</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">foo</span> <span class="token punctuation">(</span>b <span class="token punctuation">:</span> <span class="token basic-types">bool</span><span class="token punctuation">)</span><span class="token punctuation">-&gt;</span> <span class="token punctuation">(</span><span class="token basic-types">i32</span><span class="token punctuation">)</span>? <span class="token punctuation">{</span>
    <span class="token keyword">if</span> b <span class="token punctuation">{</span> 
        <span class="token number">19</span>? <span class="token comment">// return the value 19, wrapped into an option</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token basic-types">i32</span>?<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">__err__</span> <span class="token comment">// return an empty value</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token keyword">throws</span> <span class="token operator">&amp;</span><span class="token type">CastFailure</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token other-keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">println</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">unwrap</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>The following table lists the attributes specific to option types.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>err</code></td>
<td>An empty option value</td>
</tr>
</tbody>
</table>
<h2 id="cast"><a name="cast" class="anchor-navigation-ex-anchor" href="#cast"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Cast</h2>
<p>Some value can be transformed to create value of another type. This
operation is done with the <strong><code>cast</code></strong> keywords, whose syntax is
presented in the code block below.</p>
<pre class="language-"><code class="lang-grammar"><span class="token path">cast_expression</span> <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&apos;cast&apos;</span> <span class="token string">&apos;!&apos;</span> <span class="token punctuation">(</span><span class="token string">&apos;{&apos;</span> type <span class="token string">&apos;}&apos;</span> <span class="token operator">|</span> type<span class="token punctuation">)</span> expression
</code></pre>
<p><br></p>
<p>In the following example, a cast of a value of type <strong><code>i32</code></strong> to a
value of type <strong><code>i64</code></strong> is made. As said earlier, implicit casting is
not allowed. The mutability of the casted value is always lower or
equal to the mutability of the original value (for obvious reason).
<strong>Warning</strong> cast can cause loss of precision, or even sign problems.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token punctuation">:</span> <span class="token basic-types">i64</span> <span class="token operator">=</span> cast<span class="token operator">!</span><span class="token basic-types">i64</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>The following table list the authorized casts of the primitive types : </p>
<table>
<thead>
<tr>
<th>From</th>
<th>To</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i8</code> <code>i16</code> <code>i32</code> <code>i64</code> <code>isize</code></td>
<td><code>i8</code> <code>i16</code> <code>i32</code> <code>i64</code> <code>u8</code> <code>u16</code> <code>u32</code> <code>u64</code> <code>isize</code> <code>usize</code></td>
</tr>
<tr>
<td><code>u8</code> <code>u16</code> <code>u32</code> <code>u64</code> <code>usize</code></td>
<td><code>i8</code> <code>i16</code> <code>i32</code> <code>i64</code> <code>u8</code> <code>u16</code> <code>u32</code> <code>u64</code> <code>isize</code> <code>usize</code> <code>c8</code> <code>c32</code></td>
</tr>
<tr>
<td><code>f32</code> <code>f64</code></td>
<td><code>f32</code> <code>f64</code></td>
</tr>
<tr>
<td><code>c8</code></td>
<td><code>c8</code> <code>c32</code> <code>u8</code></td>
</tr>
<tr>
<td><code>c32</code></td>
<td><code>c8</code> <code>c32</code> <code>u32</code></td>
</tr>
<tr>
<td><code>&amp;(X)</code> for <code>X</code> = any type</td>
<td><code>&amp;(void)</code></td>
</tr>
</tbody>
</table>
<p>Cast if a very basic type transformation, and must be used with
precaution for basic operations. We will see in a forthecoming chapter
(<em>cf</em>. <a href="">Dynamic conversion</a>) a complex system of conversion, provided
by the standard library. This conversion system can be used to
transform value of very different type and encoding.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="variables.html" class="navigation navigation-prev " aria-label="Previous page: Variable and Mutability">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="functions.html" class="navigation navigation-next " aria-label="Next page: Functions">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Data types","level":"1.3.2","depth":2,"next":{"title":"Functions","level":"1.3.3","depth":2,"path":"primitives/functions.md","ref":"primitives/functions.md","articles":[]},"previous":{"title":"Variable and Mutability","level":"1.3.1","depth":2,"path":"primitives/variables.md","ref":"primitives/variables.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","katex","codeblock-filename","spoiler","folding-menu","language-picker","anchor-nav-x","code"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["themes/code.css"]},"spoiler":{},"language-picker":{"grid-columns":3},"search":{},"folding-menu":{"animationDuration":400,"sticky":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"isRewritePageTitle":false,"toolTipMode":"click"},"codeblock-filename":{},"anchor-nav-x":{"associatedWithSummary":true,"float":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showLevel":true},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"primitives/types.md","mtime":"2021-06-05T04:09:22.587Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-06-17T05:03:31.114Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-spoiler/spoiler.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-folding-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-anchor-nav-x/lib/handler.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

