
<!DOCTYPE HTML>
<html lang="eo" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Variabloj kaj Ŝanĝebleco · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/code.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-filename/block.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-spoiler/spoiler.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-nav-x/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="types.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Enkonduko
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../hello-world/">
            
                <a href="../hello-world/">
            
                    
                    Saluton, mondo!
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../hello-world/commentaires.html">
            
                <a href="../hello-world/commentaires.html">
            
                    
                    Komentoj
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Bazaj konceptoj
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="variables.html">
            
                <a href="variables.html">
            
                    
                    Variabloj kaj Ŝanĝebleco
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="types.html">
            
                <a href="types.html">
            
                    
                    Datumaj tipoj
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="functions.html">
            
                <a href="functions.html">
            
                    
                    Funkcioj
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="control.html">
            
                <a href="control.html">
            
                    
                    Regaj fluoj
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="operator.html">
            
                <a href="operator.html">
            
                    
                    Prioritato de operatoroj
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced/">
            
                <a href="../advanced/">
            
                    
                    Ligo kaj Referencoj
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Variabloj kaj Ŝanĝebleco</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-minus-circle"></i><ul><li><span class="title-icon "></span><a href="#variabloj-kaj-&#x15D;an&#x11D;ebleco"><b>1. </b>Variabloj kaj &#x15C;an&#x11D;ebleco</a></li><ul><li><span class="title-icon "></span><a href="#tipo-de-variablo"><b>1.1. </b>Tipo de variablo</a></li><li><span class="title-icon "></span><a href="#&#x15D;an&#x11D;ebleco-de-variablo"><b>1.2. </b>&#x15C;an&#x11D;ebleco de variablo</a></li><li><span class="title-icon "></span><a href="#unua-valoro"><b>1.3. </b>Unua valoro</a></li><li><span class="title-icon "></span><a href="#mallokaj-variabloj"><b>1.4. </b>Mallokaj variabloj</a></li><ul><li><span class="title-icon "></span><a href="#ordo-de-inicializoj"><b>1.4.1. </b>Ordo de inicializoj</a></li></ul><li><span class="title-icon "></span><a href="#ombreco-kaj-regiono"><b>1.5. </b>Ombreco kaj regiono</a></li><ul><li><span class="title-icon "></span><a href="#vivda&#x16D;ro"><b>1.5.1. </b>Vivda&#x16D;ro</a></li><li><span class="title-icon "></span><a href="#ombreco"><b>1.5.2. </b>Ombreco</a></li></ul></ul></ul></div><a href="#variabloj-kaj-&#x15D;an&#x11D;ebleco" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="variabloj-kaj-&#x15D;an&#x11D;ebleco"><a name="variabloj-kaj-&#x15D;an&#x11D;ebleco" class="anchor-navigation-ex-anchor" href="#variabloj-kaj-&#x15D;an&#x11D;ebleco"><i class="fa fa-link" aria-hidden="true"></i></a>1. Variabloj kaj &#x15C;an&#x11D;ebleco</h1>
<p>Oni deklaras variablojn per la vorto <strong><code>let</code></strong>. La sintakso de deklaro
de variablo estas prezentata en la sekva bloko da kodo.</p>
<pre class="language-"><code class="lang-grammar"><span class="token path">var_deklaro</span> <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&apos;let&apos;</span> ena_var_dekl <span class="token punctuation">(</span><span class="token string">&apos;,&apos;</span> ena_var_decl<span class="token punctuation">)</span><span class="token operator">*</span>
<span class="token path">ena_var_dekl</span>  <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token punctuation">(</span>dekoracio<span class="token punctuation">)</span><span class="token operator">*</span> Nomo <span class="token punctuation">(</span><span class="token string">&apos;:&apos;</span> tipo<span class="token punctuation">)</span>? <span class="token string">&apos;=&apos;</span> esprimo
<span class="token path">dekoracio</span> <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&apos;mut&apos;</span> <span class="token operator">|</span> <span class="token string">&apos;dmut&apos;</span> <span class="token operator">|</span> <span class="token string">&apos;ref&apos;</span>
<span class="token path">Nomo</span> <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">&apos;_&apos;</span><span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">[</span>A<span class="token operator">-</span>z<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>A<span class="token operator">-</span>z0<span class="token operator">-</span>9_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span>
</code></pre>
<p><br></p>
<p>Deklaro de variablo konsistas el kvar partoj, 1) Iu nomo, kiu
estas uzita por referenci la variablon, 2) dekoracioj, kiuj donas
malsimilajn kondutojn al la programo rilate al la variablo, 3) valoro,
kiu estas la unua valoro de la variablo, 4) tipo, opcia parto de la
deklaro kiu, kiam &#x11D;i mankas, estas induktita de la tipo de la unua
valoro asociita al la variablo. Alie, kiam la tipo estas donita, &#x11D;i
estas kontrolita kaj devas kongrui kun la tipo de la unua valoro.</p>
<h2 id="tipo-de-variablo"><a name="tipo-de-variablo" class="anchor-navigation-ex-anchor" href="#tipo-de-variablo"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Tipo de variablo</h2>
<p>La tipo de la variablo, kiel prezentata je la enkonduko, estas
indikata je la deklaro de la variablo. Tio implicas statikan tipon por
&#x109;iuj variabloj, kies rezulto estas ke oni ne povas &#x15D;an&#x11D;i la tipon de
variablo dum &#x11D;ia vivda&#x16D;ro. Por ilustri tiun ideon, la sekva fontkodo
deklaras variablon, kies tipo estas <strong><code>i32</code></strong>, kaj provas meti valoron
kies tipo estas <strong><code>f32</code></strong> en &#x11D;i. La programlingvo ne akceptas tion, do
la kompililo &#x135;etas eraron.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token other-keyword">mut</span> x <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">// 12 estas litero de tipo i32 (entjera valoro sur 32 bitoj)</span>
    <span class="token comment">//  ^^^ tiu dekoracio, prezentata en la sekva sekcio, ne gravas por la momento</span>

    x <span class="token operator">=</span> <span class="token number">89</span><span class="token punctuation">.</span>0f<span class="token punctuation">;</span> <span class="token comment">// 89.0f estas litero kies tipo estas f32 (valoro kun flosanta punkto)</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br> La kompililo, pro ke la fontkodo estas neakceptebla <em>Ymir</em>
programo, &#x135;etas eraron. La eraro, prezentata je la sekva bloko da
kodo, informas ke la variablo <strong><code>x</code></strong> de tipo <strong><code>i32</code></strong>, estas
malkongrua kun la valoro de tipo <strong><code>f32</code></strong>.</p>
<pre class="language-"><code class="lang-error"><span class="token path">Error</span> : incompatible types mut i32 and f32
 <span class="token comment">--&gt; main.yr:(5,4)</span>
 5  &#x2503;     x = 89.0f; // 89.0f estas litero kies tipo estas f32 (valoro kun flosanta punkto)
    &#x254B;       ^


ymir1: <span class="token path">fatal error</span>: 
compilation terminated.
</code></pre>
<p><br></p>
<h2 id="&#x15D;an&#x11D;ebleco-de-variablo"><a name="&#x15D;an&#x11D;ebleco-de-variablo" class="anchor-navigation-ex-anchor" href="#&#x15D;an&#x11D;ebleco-de-variablo"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. &#x15C;an&#x11D;ebleco de variablo</h2>
<p>Dekoracioj estas uzataj por difini kiel trakti variablojn. La
&#x109;efvortoj <strong><code>ref</code></strong> kaj <strong><code>dmut</code></strong> estos priskribitaj en alia &#x109;apitro
(<em>kp.</em> <a href="https://gnu-ymir.github.io/Documentations/eo/advanced/" target="_blank">Ligoj kaj
Referencoj</a>). Por
la momento, ni nur parolos pri la vorto <strong><code>mut</code></strong>. Tiu &#x109;efvorto estas
uzata por difini ke la valoro de variablo estas &#x15D;an&#x11D;ebla. Variablo,
kiu estas deklarita sen tiu vorto <strong><code>mut</code></strong>, estas apriore
mal&#x15D;an&#x11D;ebla, farante ke &#x11D;ia valoro estas definitiva.</p>
<p>Alivorte, se variablo estas deklarita kiel mal&#x15D;an&#x11D;ebla, tiam &#x11D;i estas
ligita al valoro, kiun la variablo ne povas &#x15D;an&#x11D;i dum sia tuta
vivda&#x16D;ro. La ideo malanta&#x16D; la apriora mal&#x15D;an&#x11D;ebleco estas malhelpi
nedeziratajn erarojn, per devigi la uzantojn, ke ili difinu kiujn
variablojn estas &#x15D;an&#x11D;eblaj, kun la uzo de intece pli multvorta
sintakso, dum &#x109;iuj la aliaj variabloj estas mal&#x15D;an&#x11D;eblaj.</p>
<p>En la sekva fontkodo variablo <strong><code>x</code></strong>, kies tipo estas <strong><code>i32</code></strong>,
estas deklarita. Tiu variablo estas mal&#x15D;an&#x11D;ebla, (&#x109;ar la dekoracio
<strong><code>mut</code></strong> ne estas uzata). Poste la linio <strong>7</strong>, kiu konsistas el
provi &#x15D;an&#x11D;i la valoron de la variablo <strong><code>x</code></strong>, estas malakceptita per
la programlingvo, do anka&#x16D; per la kompililo, kiu &#x135;etas eraron.</p>
<p><br></p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;X valoras : &quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> 

    x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> 
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;X valoras : &quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>De la supra fontkodo, la kompililo &#x135;etas la sekvan eraron. Tiu eraro
informas ke la atribuo ne estas permesata, pro la naturo de la
variablo <strong><code>x</code></strong>, kiu estas mal&#x15D;an&#x11D;ebla. En <em>Ymir</em>, variabla
&#x15D;an&#x11D;ebleco, kaj tipa &#x15D;an&#x11D;ebleco certigas, per statikaj kontroloj, ke
kiam variablo estas deklarita kiel ne havanta skriban permeson al
valoro, do estas neniu maniero por gajni skriban permeson al tiu
valoro trans tiu variablo. Kvankam, tio povas esti kelkfoje frustra
por la uzanto.</p>
<pre class="language-"><code class="lang-error"><span class="token path">Error</span> : left operand of type i32 is immutable
 <span class="token comment">--&gt; main.yr:(7,2)</span>
    &#x2503; 
 7  &#x2503;     x = 3; 
    &#x2503;     ^


ymir1: <span class="token path">fatal error</span>: 
compilation terminated.
</code></pre>
<p><br></p>
<p>Oni povas &#x15D;an&#x11D;i la anta&#x16D;an ekzemplon por farigi la variablon <strong><code>x</code></strong>
&#x15D;an&#x11D;ebla. Tiu &#x15D;an&#x11D;o implicas la uzon de la &#x109;efvorto <strong><code>mut</code></strong>, kiu &#x2014;
metita anta&#x16D; la nomo de la variablo, je la deklaro &#x2014; farigas &#x11D;in
&#x15D;an&#x11D;ebla. Danke al tiu &#x15D;an&#x11D;o, la sekva fontkodo estas nun akceptebla
programo, do estas akceptita de la kompililo.</p>
<p><br></p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token other-keyword">mut</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;X valoras : &quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> 

    x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> 
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;X valoras : &quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br>
Rezultoj:</p>
<pre class="language-"><code>X valoras : 2
X valoras : 3
</code></pre><p><br> Fakte, &#x15D;an&#x11D;ebleco ne rilatas al variabloj, sed al tipoj. La
<em>Ymir</em> programlingvo proponas kompleksan sistemon de tipa &#x15D;an&#x11D;ebleco,
kies kompreno bezonas ke oni komprenas bone la datumajn tipojn
anta&#x16D;e. En la sekvaj sekcioj kaj &#x109;apitroj, pro tiu kialo, ni prezentos
la tipan sistemon (kaj la diversajn bazajn tipojn de datumo, kiujn oni
povas krei en <em>Ymir</em> - <em>kp.</em> <a href="https://gnu-ymir.github.io/Documentations/eo/primitives/types.html" target="_blank">Datumaj
tipoj</a>),
anta&#x16D; ol ni revenos al &#x15D;an&#x11D;ebleco, kaj ol ni havos tutan vidon de la
&#x15D;an&#x11D;ebleca sistemo en la &#x109;apitro <a href="https://gnu-ymir.github.io/Documentations/eo/advanced/" target="_blank">Ligoj kaj
Referencoj</a>.</p>
<h2 id="unua-valoro"><a name="unua-valoro" class="anchor-navigation-ex-anchor" href="#unua-valoro"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Unua valoro</h2>
<p>Variablo <strong>&#x109;iam</strong> estas deklarita kun valoro. La celo estas ke oni
povu certigi ke &#x109;iuj datumoj venas de ie, kaj ne venas de hazarda
stato de memoro de la ma&#x15D;ino kiu plenumas la programon (kiel eblas en
<em>C</em> programlingvo).</p>
<p>Oni povas argumenti ke statikaj kontroloj povas esti uzitaj por
certigi ke variablo estu valorigita anta&#x16D; ol &#x11D;i estas uzita, kaj
argumenti ke trudi unuan valoron, ne estas la plej bona maniero por
plenumi datuman validecon. Se temas pli pri opinio ol scienca rezono,
ni pensas ke disigi la inicializon de variablo farigas programon pli
malfacila por legi. Plie, mal&#x15D;an&#x11D;eblaj variabloj estus &#x15D;an&#x11D;eblaj dum
unu asigno, farante la konduton de la programo ankora&#x16D; pli malfacila
por kompreni.</p>
<p>La sekva tabulo montras du ekzemplojn de fontkodo, kies
kondutoj estas similaj. Je la maldekstra parto, valida fontkodo
akceptebla de la <em>Ymir</em> programlingvo, kaj je la dekstra parto,
fontkodo malakceptebla pro la argumentoj, kiujn ni prezentis.</p>
<table>
<tr>
<th> A </th>
<th> B </th>
</tr>
<tr>
<td style="width: 50%;"><pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token other-keyword">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token number">42</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token number">7</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></td>
<td style="width: 50%;"><pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> i <span class="token punctuation">:</span> <span class="token basic-types">i32</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token other-keyword">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        i <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></td>
</tr>
</table>

<p>Oni povas noti de la maldekstra programo, ke la <strong><code>if</code></strong> esprimo havas
valoron. Valoro komputita kiel la rezulto de la esprimo (je tiu okazo
la valoro <strong><code>42</code></strong> de tipo <strong><code>i32</code></strong>). Fakte, &#x109;iuj esprimoj povas havi
valoron en <em>Ymir</em>, forigante la limon, kiun ni enkondukis per la
trudo de unua valoro.</p>
<h2 id="mallokaj-variabloj"><a name="mallokaj-variabloj" class="anchor-navigation-ex-anchor" href="#mallokaj-variabloj"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Mallokaj variabloj</h2>
<p>Kvankam mallokaj variabloj havas relative malbonan reputacion pro
multe da bonaj kialoj, ni decidis lasi la eblon difini ilin, pro tio
ke malgra&#x16D; &#x109;io, ili permesas paradigmojn de programado, kiuj estus
maleblaj alie.</p>
<p>Mallokaj variabloj estas difinitaj kiel lokaj variabloj, krom ke oni
anstata&#x16D;igas la &#x109;efvorton <strong><code>let</code></strong> per la vorto <strong><code>static</code></strong>. La
sekva fontkodo prezentas uzon de mal&#x15D;an&#x11D;ebla malloka variablo. Tio
estas nur ekzemplo, &#x109;ar uzo de enumeracio (<em>kp.</em>
<a href="https://gnu-ymir.github.io/Documentations/eo/types/enum.html" target="_blank">Enumeracio</a>)
estus probable pli bona por tiu speciala afero.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span>

<span class="token keyword">static</span> pi <span class="token operator">=</span> <span class="token number">3.14159265359</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;La valoro de Pi estas : &quot;</span><span class="token punctuation">,</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>&#x108;iuj informoj pri lokaj variabloj estas validaj por mallokaj
variabloj. Temas pri statika tipigado, &#x15D;an&#x11D;ebleco, kaj unuaj valoroj. Ne
estas limoj pri la valoroj, kiuj povas esti uzitaj kiel unuaj valoroj
de mallokaj variabloj, nek estas limoj pri la formo de la inicializo. Voko
de funkcioj, kondi&#x109;aj esprimoj, kreo de objektoj, ktp. nenio estis
forgesita.</p>
<p>Mallokaj variabloj estas inicializitaj anta&#x16D; la komenco de la programo mem,
tio volas diri anta&#x16D; ol la funkcio <strong><code>main</code></strong> estos vokita. Por
ilustri tiun punkton, la sekva fontkodo kreas mallokan variablon kies
tipo estas <strong><code>i32</code></strong>, kaj kiu estas inicializita per voko de la funkcio
<strong><code>foo</code></strong>. Tiu funkcio <strong><code>foo</code></strong> per voki la funkcion <strong><code>println</code></strong>
skribas mesa&#x11D;on sur la &#x15D;elo (komputila terminalo), poste la funkcio
<strong><code>main</code></strong> faras same.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> __GLOBAL__ <span class="token operator">=</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**</span>
<span class="token comment">  * Tiu funkcio skribas la mesa&#x11D;on &quot;foo&quot;, kaj returnas la valoron 42</span>
<span class="token comment">  */</span>
<span class="token keyword">def</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">-&gt;</span> <span class="token basic-types">i32</span> <span class="token punctuation">{</span>
  <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token number">42</span>
<span class="token punctuation">}</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span> <span class="token punctuation">(</span><span class="token string">&quot;__GLOBAL__ = &quot;</span><span class="token punctuation">,</span> __GLOBAL__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>Rezultoj:</p>
<pre class="language-"><code>foo
__GLOBAL__ = 42
</code></pre><h3 id="ordo-de-inicializoj"><a name="ordo-de-inicializoj" class="anchor-navigation-ex-anchor" href="#ordo-de-inicializoj"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. Ordo de inicializoj</h3>
<p>Estas neniu garantio pri la ordo de la inicializoj de mallokaj
variabloj. Tiu estas ver&#x15D;ajne la unua granda limo, kiun oni povas noti
pri la programlingvo <em>Ymir</em>. <strong>Kontribuo</strong>, permesi tian garantion
estus tute bonvena kontribuo, sed tio estas malver&#x15D;ajne ebla kiam la
mallokaj variabloj estas difinitaj en malsamaj paka&#x135;oj (<em>kp.</em>
<a href="https://gnu-ymir.github.io/Documentations/eo/modules" target="_blank">Paka&#x135;oj</a>).</p>
<p>Por la momento, &#x109;ar ne eblas certigi bonan ordon de inicializoj de mallokaj
variabloj, anta&#x16D; ol la programo komencos, ne estas permesita inicializi
mallokan variablon per la valoro de alia malloka variablo. Tamen, tiu
kontrolo estas tre lima, &#x109;ar la valoro de malloka variablo povas esti
kreita per voko de funkcio, kaj tiu funkcio povas uzi la valoron de
alia malloka variablo. La sekva fontkodo ilustras tiun konduton.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">static</span> __A__ <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> __B__ <span class="token operator">=</span> __A__<span class="token punctuation">;</span> 
<span class="token keyword">static</span> __C__ <span class="token operator">=</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token basic-types">i32</span> <span class="token punctuation">{</span>
    __A__
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>La kompililo beda&#x16D;rinde nur kapablas vidi la dependan inicializon de
<strong><code>__B__</code></strong>, kaj lasos la inicializon de <strong><code>__C__</code></strong> funkcii. E&#x109; se je tiu
speciala okazo la dependeco estas tre klare videbla, tio povas esti
pli malfacila se la funkcio <strong><code>foo</code></strong> estus difinita en malsama
paka&#x135;o, kaj se oni nur havus &#x11D;ian prototipon.</p>
<pre class="language-"><code class="lang-error"><span class="token path">Error</span> : the global var main::__B__ cannot be initialized from the value of main::__A__
 <span class="token comment">--&gt; main.yr:(2,8)</span>
 2  &#x2503; static __B__ = __A__; 
    &#x254B;        ^^^^^
    &#x2503; <span class="token other-keyword">Note</span> : 
    &#x2503;  <span class="token comment">--&gt; main.yr:(1,8)</span>
    &#x2503;  1  &#x2503; static __A__ = 42;
    &#x2503;     &#x254B;        ^^^^^
    &#x2503; <span class="token other-keyword">Note</span> : 
    &#x2503;  <span class="token comment">--&gt; main.yr:(2,16)</span>
    &#x2503;  2  &#x2503; static __B__ = __A__; 
    &#x2503;     &#x254B;                ^^^^^
    &#x2517;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x253B;&#x2501; 


ymir1: <span class="token path">fatal error</span>: 
compilation terminated.
</code></pre>
<p><br></p>
<h2 id="ombreco-kaj-regiono"><a name="ombreco-kaj-regiono" class="anchor-navigation-ex-anchor" href="#ombreco-kaj-regiono"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. Ombreco kaj regiono</h2>
<h3 id="vivda&#x16D;ro"><a name="vivda&#x16D;ro" class="anchor-navigation-ex-anchor" href="#vivda&#x16D;ro"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.1. Vivda&#x16D;ro</h3>
<p>La vivda&#x16D;ro de variablo estas difinita per &#x11D;ia regiono. Kunmetanta
esprimojn apartigitaj per punktokomoj, inter kunigaj krampoj, regiono
estas semantika elemento, kiu estas bone konita en programlingvoj. &#x11C;i
havas kelkajn speciala&#x135;ojn en <em>Ymir</em>, sed tiuj estos prezentitaj en
venontaj &#x109;apitroj (<em>kp.</em>
<a href="https://gnu-ymir.github.io/Documentations/eo/primitives/functions.html" target="_blank">Funkcioj</a>,
<a href="https://gnu-ymir.github.io/Documentations/eo/errors/scope.html" target="_blank">Gardanto de
regiono</a>),
kaj ne interesas nin por la momento.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">// x ne plu ekzistas post la fino de tiu regiono</span>
    <span class="token function">println</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>Se variablo estas deklarita en regiono, kaj neniam estas uzita dum
&#x11D;ia vivda&#x16D;ro, la kompililo &#x135;etas eraron. Por eviti tian eraron, la
variablo povas nomi&#x11D;i <strong><code>_</code></strong>. Se &#x15D;ajnas senutila deklari variablon
kiun oni ne uzas, povas esti utila kelkfoje (ekzemple kiam oni
deklaras parametroj de homonima funkcio, <em>kp.</em> <a href="https://gnu-ymir.github.io/Documentations/eo/objects/inheritance.html" target="_blank">Klasa
heredeco</a>).</p>
<p>Variablo, kiu nomi&#x11D;as <strong><code>_</code></strong>, estas anonima, tiam ne estas maniero
por retrovi &#x11D;ian valoron.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> _ <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">// deklaras anoniman valoron</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="ombreco"><a name="ombreco" class="anchor-navigation-ex-anchor" href="#ombreco"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.2. Ombreco</h3>
<p>Du variabloj, kun la sama nomo, ne povas ekzisti en koliziantaj
regionoj, t.e. se variablo havas la saman nomon ol vivanta variablo
je la aktuala regiono, la fontkodo ne estas akceptebla programo, kaj
la kompilo &#x135;etas eraron pro ombreco. La sekva fontkodo ilustras tiun
punkton, kie du variabloj estas deklaritaj en la sama regiono kun la
sama nomo <strong><code>x</code></strong>.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    
    <span class="token punctuation">{</span> 
        <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br> La kompililo &#x135;etas la sekvan eraron. E&#x109; la deklaro de la lasta
variablo en la regiono malfermita je la linio <strong><code>4</code></strong> estas
malpermesita. Multe da eraroj povas esti evitataj per simple forlasi
tiun eblon. Eblo kiu, la&#x16D; nia opinio, ne alportas iun ajn avanta&#x11D;o.</p>
<pre class="language-"><code class="lang-error"><span class="token path">Error</span> : declaration of x shadows another declaration
 <span class="token comment">--&gt; main.yr:(3,9)</span>
 3  &#x2503;     let x = 2;    
    &#x254B;         ^
    &#x2503; <span class="token other-keyword">Note</span> : 
    &#x2503;  <span class="token comment">--&gt; main.yr:(2,9)</span>
    &#x2503;  2  &#x2503;     let x = 1;    
    &#x2503;     &#x254B;         ^
    &#x2517;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x253B;&#x2501; 

<span class="token path">Error</span> : declaration of x shadows another declaration
 <span class="token comment">--&gt; main.yr:(5,13)</span>
 5  &#x2503;         let x = 3; 
    &#x254B;             ^
    &#x2503; <span class="token other-keyword">Note</span> : 
    &#x2503;  <span class="token comment">--&gt; main.yr:(2,9)</span>
    &#x2503;  2  &#x2503;     let x = 1;    
    &#x2503;     &#x254B;         ^
    &#x2517;&#x2501;&#x2501;&#x2501;&#x2501;&#x2501;&#x253B;&#x2501; 


ymir1: <span class="token path">fatal error</span>: 
compilation terminated.
</code></pre>
<p><br></p>
<p>Mallokaj variabloj ne kreas ombron sur lokaj variabloj. Malloka
variablo estas malloka simbolo, kaj estas atingebla per la paka&#x135;o kiu
deklaras &#x11D;in (<em>kp.</em>
<a href="https://gnu-ymir.github.io/Documentations/eo/modules/" target="_blank">Paka&#x135;oj</a>). Lokaj
variabloj aliflanke, estas atingeblaj nur de la funkcio kiu deklaris
ilin. Simbola atingo donas prioritaton al lokaj variabloj. Tiun
konduton prezentas la sekva fontkodo.</p>
<pre class="language-"><code class="lang-ymir"><span class="token keyword">mod</span> Main<span class="token punctuation">;</span> <span class="token comment">// Deklaro de paka&#x135;o nomita Main</span>

<span class="token keyword">import</span> <span class="token path">std</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">io</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> pi <span class="token operator">=</span> <span class="token number">3.14159265359</span>

<span class="token keyword">def</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">throws</span> <span class="token operator">&amp;</span><span class="token type">AssertError</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">let</span> pi <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span> <span class="token punctuation">(</span>pi <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// uzas la loka pi</span>
    <span class="token punctuation">}</span> <span class="token comment">// Per fermi tiun regionon, loka pi ne plu ekzistas</span>

    <span class="token comment">// &#x109;ar loka pi ne plu ekzistas</span>
    <span class="token comment">// malloka pi estas atingebla</span>
    <span class="token keyword">assert</span> <span class="token punctuation">(</span>pi <span class="token operator">==</span> <span class="token number">3.14159265359</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// malloka pi estas anka&#x16D; atingebla trans &#x11D;ia gepatra paka&#x135;o</span>
    <span class="token keyword">assert</span> <span class="token punctuation">(</span><span class="token path">Main</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token path">pi</span> <span class="token operator">==</span> <span class="token number">3.14159265359</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Bazaj konceptoj">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="types.html" class="navigation navigation-next " aria-label="Next page: Datumaj tipoj">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Variabloj kaj Ŝanĝebleco","level":"1.3.1","depth":2,"next":{"title":"Datumaj tipoj","level":"1.3.2","depth":2,"path":"primitives/types.md","ref":"primitives/types.md","articles":[]},"previous":{"title":"Bazaj konceptoj","level":"1.3","depth":1,"path":"primitives/README.md","ref":"primitives/README.md","articles":[{"title":"Variabloj kaj Ŝanĝebleco","level":"1.3.1","depth":2,"path":"primitives/variables.md","ref":"primitives/variables.md","articles":[]},{"title":"Datumaj tipoj","level":"1.3.2","depth":2,"path":"primitives/types.md","ref":"primitives/types.md","articles":[]},{"title":"Funkcioj","level":"1.3.3","depth":2,"path":"primitives/functions.md","ref":"primitives/functions.md","articles":[]},{"title":"Regaj fluoj","level":"1.3.4","depth":2,"path":"primitives/control.md","ref":"primitives/control.md","articles":[]},{"title":"Prioritato de operatoroj","level":"1.3.5","depth":2,"path":"primitives/operator.md","ref":"primitives/operator.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","katex","codeblock-filename","spoiler","folding-menu","language-picker","anchor-nav-x","code"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["themes/code.css"]},"spoiler":{},"language-picker":{"grid-columns":3},"search":{},"folding-menu":{"animationDuration":400,"sticky":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"isRewritePageTitle":false,"toolTipMode":"click"},"codeblock-filename":{},"anchor-nav-x":{"associatedWithSummary":true,"float":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showLevel":true},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"eo","gitbook":"*"},"file":{"path":"primitives/variables.md","mtime":"2021-07-29T15:21:26.757Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-11T08:33:50.893Z"},"basePath":"..","book":{"language":"eo"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-spoiler/spoiler.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-folding-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-anchor-nav-x/lib/handler.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

